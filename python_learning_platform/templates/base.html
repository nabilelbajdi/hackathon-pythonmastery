{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Master Python programming with our comprehensive online learning platform. From beginners to advanced developers, elevate your coding skills today.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêç</text></svg>">
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v=1">
    <title>{% block title %}PythonMastery: Learn, Code, Excel{% endblock title %}</title>
    {% block extra_css %}{% endblock %}
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="{% url 'home' %}">
                <i class="fas fa-laptop-code me-2"></i>PythonMastery
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'courses' %}">Courses</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'resources' %}">Resources</a></li>                    {% if user.is_authenticated %}
                        <li class="nav-item"><a class="nav-link" href="#">My Dashboard</a></li>
                        <li class="nav-item">
                            <form method="POST" action="{% url 'logout' %}" class="d-inline">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-link nav-link">Logout</button>
                            </form>
                        </li>
                    {% else %}
                    <li class="nav-item"><a class="nav-link btn btn-primary text-white px-3 py-2" href="{% url 'login' %}">Login</a></li>
                    <li class="nav-item"><a class="nav-link btn btn-primary text-white px-3 py-2 ms-2" href="{% url 'signup' %}">Sign Up</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="content">
            {% block content %}
            {% endblock %}
        </div>
    </div>

    <div class="container mt-5">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <i class="fas fa-book-open feature-icon"></i>
                <h3>Comprehensive Curriculum</h3>
                <p>From basics to advanced topics, our structured courses cover all aspects of Python programming.</p>
            </div>
            <div class="col-md-4 mb-4">
                <i class="fas fa-code feature-icon"></i>
                <h3>Interactive Coding</h3>
                <p>Practice what you learn with our interactive coding exercises and real-world projects.</p>
            </div>
            <div class="col-md-4 mb-4">
                <i class="fas fa-users feature-icon"></i>
                <h3>Community Support</h3>
                <p>Join our vibrant community of learners and get help from experienced developers.</p>
            </div>
        </div>
    </div>

    <footer class="mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>PythonMastery</h5>
                    <p>Empowering the next generation of Python developers. Learn, code, and innovate with us.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'home' %}" class="text-white">Home</a></li>
                        <li><a href="#" class="text-white">Courses</a></li>
                        <li><a href="#" class="text-white">Resources</a></li>
                        <li><a href="#" class="text-white">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect with Us</h5>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
            <hr class="mt-4 mb-3">
            <div class="text-center">
                <p>&copy; 2024 PythonMastery. All rights reserved. | <a href="#" class="text-white">Privacy Policy</a> | <a href="#" class="text-white">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleIcons = document.querySelectorAll('.password-toggle');
            toggleIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const passwordInput = document.getElementById(targetId);
                    
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        this.classList.replace('fa-eye', 'fa-eye-slash');
                    } else {
                        passwordInput.type = 'password';
                        this.classList.replace('fa-eye-slash', 'fa-eye');
                    }
                });
            });

            const passwordInput = document.getElementById('id_password1');
            if (passwordInput) {
                passwordInput.addEventListener('input', function() {
                    checkPasswordStrength(this.value);
                });
            }
        });

        function checkPasswordStrength(password) {
            const strengthBar = document.getElementById("password-strength-bar");
            const strengthText = document.getElementById("password-strength-text");

            const criteria = [
                { regex: /.{8,}/, points: 1 },
                { regex: /[a-z]/, points: 1 },
                { regex: /[A-Z]/, points: 1 },
                { regex: /[0-9]/, points: 1 },
                { regex: /[^A-Za-z0-9]/, points: 1 }
            ];

            const strength = criteria.reduce((acc, criterion) => 
                acc + (criterion.regex.test(password) ? criterion.points : 0), 0);

            const strengthLevels = [
                { color: "#dc3545", text: "Very Weak" },
                { color: "#ffc107", text: "Weak" },
                { color: "#fd7e14", text: "Moderate" },
                { color: "#20c997", text: "Strong" },
                { color: "#198754", text: "Very Strong" }
            ];

            strengthBar.style.width = `${(strength / 5) * 100}%`;
            strengthBar.style.backgroundColor = strengthLevels[strength - 1].color;
            strengthText.textContent = strengthLevels[strength - 1].text;
        }
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>